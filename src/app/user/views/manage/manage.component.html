<form [formGroup]="form" (ngSubmit)="add()">
  <mat-form-field>
    <input type="text" appRequired matInput  formControlName="nickname" data-required="nickname..." placeholder="Nickname..." autocomplete="off">
    <mat-error *ngIf="formControl.nickname.errors && formControl.nickname.touched || formControl.nickname.dirty">
      <span *ngIf="formControl.nickname.hasError('required')">Nickname is required...</span>
      <span *ngIf="formControl.nickname.hasError('userExists')">Nickname is already used</span>
    </mat-error>
  </mat-form-field>

  <input type="mail" formControlName="email" placeholder="Email..." autocomplete="off">

  <input type="mail" formControlName="confirmEmail" placeholder="Email..." autocomplete="off">

  <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Password..." autocomplete="off">

  <input type="password" formControlName="confirmPassword" placeholder="Confirm password..." autocomplete="off">

  <button
    type="button"
    (click)="showPassword = !showPassword"
    id="togglePassword"
  >
    {{ showPassword ? 'Masquer' : 'Montrer' }}
  </button>
  <button [disabled]="form.invalid">
    Save
  </button>
</form>

{{ form.value | json }}
